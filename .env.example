# =============================================================================
# Configuração de Ambiente - Backend Imobly
# =============================================================================
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Preencha os valores conforme o ambiente (local/produção)
# 3. NUNCA commit o arquivo .env (já está no .gitignore)
#
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE - Banco de Dados PostgreSQL
# -----------------------------------------------------------------------------
# 
# DESENVOLVIMENTO LOCAL (Docker):
DATABASE_URL=postgresql://postgres:admin123@postgres:5432/imovel_gestao
#
# PRODUÇÃO (Supabase - Transaction Mode - RECOMENDADO):
# DATABASE_URL=postgresql://postgres.yyeldattafklyutbbnhu:[SUA_SENHA]@aws-0-us-west-2.pooler.supabase.com:6543/postgres
#
# PRODUÇÃO (Supabase - Session Mode - Limite de 30 conexões):
# DATABASE_URL=postgresql://postgres.yyeldattafklyutbbnhu:[SUA_SENHA]@aws-0-us-west-2.pooler.supabase.com:5432/postgres
#
# ⚠️ IMPORTANTE: Use porta 6543 (Transaction Mode) em produção para evitar 
#                "max clients reached" error. Suporta ~10.000 conexões.
#

# -----------------------------------------------------------------------------
# DATABASE POOL - Configurações de Pool de Conexões
# -----------------------------------------------------------------------------
# Valores padrão já otimizados no código (não precisa definir se usar defaults)
# DB_POOL_SIZE=5           # Número de conexões mantidas no pool
# DB_MAX_OVERFLOW=10       # Conexões extras permitidas além do pool_size
# DB_POOL_TIMEOUT=30       # Tempo (segundos) para aguardar conexão disponível
# DB_POOL_RECYCLE=1800     # Reciclar conexões a cada 30min (evita conexões mortas)

# -----------------------------------------------------------------------------
# JWT/SECURITY - Autenticação e Segurança
# -----------------------------------------------------------------------------
# Gere uma chave segura com:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
SECRET_KEY=your-super-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# -----------------------------------------------------------------------------
# APPLICATION - Configurações da Aplicação
# -----------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=true
PROJECT_NAME=Imóvel Gestão API
VERSION=1.0.0
API_V1_STR=/api/v1
HOST=0.0.0.0
PORT=8000

# -----------------------------------------------------------------------------
# FILE UPLOAD - Configurações de Upload
# -----------------------------------------------------------------------------
UPLOAD_DIR=./uploads
# Em produção (Render/Heroku), use diretório temporário:
# UPLOAD_DIR=/tmp/uploads

# -----------------------------------------------------------------------------
# CORS - URLs permitidas (definido em app/core/config.py)
# -----------------------------------------------------------------------------
# As origens CORS estão hardcoded no config.py para evitar problemas de parsing
# URLs permitidas incluem:
#   - http://localhost:3000, http://localhost:5173 (desenvolvimento)
#   - https://imobly.onrender.com (frontend produção)
#   - https://auth-api-3zxk.onrender.com (auth-api produção)

# -----------------------------------------------------------------------------
# OPCIONAL - Configurações Futuras
# -----------------------------------------------------------------------------
# Email (se implementado)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-password

# AWS/S3 Storage (se implementado)
# AWS_ACCESS_KEY_ID=your-key
# AWS_SECRET_ACCESS_KEY=your-secret
# AWS_BUCKET_NAME=your-bucket
# AWS_REGION=us-east-1

# Redis Cache (se implementado)
# REDIS_URL=redis://redis:6379/0
